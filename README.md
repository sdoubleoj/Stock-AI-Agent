# 미래에셋증권 AI 페스티벌: AI Tech

## 프로젝트 개요

HyperCLOVA API의 Function Calling 기능을 활용하여 사용자의 금융 관련 질문에 답변하는 AI 에이전트입니다. `yfinance`와 `pykrx` 라이브러리를 통해 실시간 주식 데이터를 조회하고, 자연어 질문을 해석하여 자연어 답변을 제공합니다.

## 주요 기능

이 에이전트는 다음과 같은 다양한 금융 관련 질문에 답변할 수 있습니다.

- **기본 시세 조회:**
  > "삼성전자 어제 종가 알려줘"
  > "오늘 코스피 지수 어때?"

- **조건별 순위 검색:**
  > "어제 코스닥에서 가장 많이 오른 종목 5개 알려줘"
  > "오늘 거래량이 가장 많았던 코스피 종목은 뭐야?"

- **종목 간 비교 분석:**
  > "카카오랑 네이버 중에 어제 종가 더 높은게 뭐야?"
  > "삼성전자랑 SK하이닉스 시가총액 비교해줘"

- **시장 데이터 분석:**
  > "어제 코스피 시장의 평균 등락률 알려줘"
  > "오늘 삼성전자 거래량이 전체 시장에서 차지하는 비중은 몇 프로야?"
  > "셀트리온의 어제 거래량 순위 알려줘"

- **기술적 분석 (자연어 질문 기반):**
  > "어제 볼린저밴드 하단에 닿은 코스피 종목 알려줘"
  > "RSI가 70 이상인 종목 찾아줘"
  > "20일 이동평균선을 상향 돌파한 종목 알려줘"

## 사용 기술

- **언어:** Python
- **LLM:** HyperCLOVA
- **금융 데이터:** `yfinance`, `pykrx`, `FinanceDataReader`

## 실행 방법

### 1. 사전 준비

`.env` 파일을 생성하고, 그 안에 HyperCLOVA API 키와 ID를 입력해야 합니다.

```env
# fin/.env
CLOVA_API_KEY=YOUR_API_KEY
CLOVA_REQUEST_ID=YOUR_REQUEST_ID
```

`config.py` 파일이 이 `.env` 파일의 값을 읽어 사용합니다.

### 2. 의존성 설치

프로젝트 실행에 필요한 라이브러리를 설치합니다.

```bash
pip install -r requirements.txt
```

### 3. 에이전트 실행

아래 명령어를 통해 CLI 환경에서 에이전트를 실행합니다.

```bash
python main.py
```

## 🚀 실행 예시

```
$ python main.py
하이~ 나는 금융 AI 에이전트 정비스🤖다.

질문: 삼성전자랑 SK하이닉스 중에 어제 종가 기준으로 어디가 더 높아?
🤖: 어제 종가 기준으로 SK하이닉스가 230,000원으로 삼성전자(83,100원)보다 더 높습니다.

⏳ 답변까지 걸린 시간: 3.12초
====================================================================================================
질문: 어제 볼린저밴드 하단에 닿은 코스피 종목 3개만 알려줘
🤖: 어제 KOSPI 시장에서 볼린저 밴드 하단에 닿은 종목은 A, B, C입니다.
====================================================================================================
질문: exit
🤖: 바이바이
```

## 📂 파일 구조

```
fin/
├── main.py              # 에이전트 실행 및 대화 흐름 관리
├── function_caller.py   # LLM API 호출 및 Tool 명세 정의
├── skillset.py          # 실제 데이터 조회 함수(Tool) 모음
├── config.py            # API 키 등 환경 설정
├── requirements.txt     # 의존성 라이브러리 목록
└── README.md            # 프로젝트 설명 (현재 파일)
```
